<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XMLSpy v2009 sp1 (http://www.altova.com) by USER USER (CEA - CENTRE DE CADARACHE) -->
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified">
	<xs:include schemaLocation="..\Utilities\DD_Support.xsd"/>
	<xs:complexType name="pf_vacuum_model">
		<xs:annotation>
			<xs:documentation>Electromagnetic Vacuum Model of the PF System, including both active and passive coils</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="names">
				<xs:annotation>
					<xs:documentation>Names of circuits [Active;Passive]</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>1...n_active_passive_circuits</coordinate1>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="inductance_matrix">
				<xs:annotation>
					<xs:documentation>Inductance matrix between circuits</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>../names</coordinate1>
						<coordinate2>../names</coordinate2>
						<Units>Henry</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_2D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="resistance_vector">
				<xs:annotation>
					<xs:documentation>Resistances of PF coils</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>../names</coordinate1>
						<Units>Ohm</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_1D"/>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="pf_passive_loops">
		<xs:annotation>
			<xs:documentation>Passive axisymmetric conductor description in the form of non-connected loops; any connected loops are expressed as active coil circuits with no power supply attached.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="names">
				<xs:annotation>
					<xs:documentation>Names of the loops</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>1...n_passive_loops</coordinate1>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="areas">
				<xs:annotation>
					<xs:documentation>Surface areas of the passive loops</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>m^2</Units>
						<coordinate1>../names</coordinate1>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="resistances">
				<xs:annotation>
					<xs:documentation>Passive elements resistances</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>Ohm</Units>
						<coordinate1>../names</coordinate1>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="geometries" type="outline_2d_geometry_static" maxOccurs="20">
				<xs:annotation>
					<xs:documentation>Shapes of the Passive Loops</xs:documentation>
					<xs:appinfo>
						<coordinate1>../names</coordinate1>
					</xs:appinfo>
				</xs:annotation>
			</xs:element>
			<xs:element name="currents">
				<xs:annotation>
					<xs:documentation>Passive Loops currents (all Passive Loops are assumed to share the same timebase)</xs:documentation>
					<xs:appinfo>
						<Type>DYNAMIC</Type>
						<coordinate1>../time</coordinate1>
						<coordinate2>../names</coordinate2>
						<Units>A</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_2D"/>
				</xs:complexType>
			</xs:element>
			<xs:element ref="time"/>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="pf_supplies">
		<xs:annotation>
			<xs:documentation>PF power supplies</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="name">
				<xs:annotation>
					<xs:documentation>Name of the PF supply</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="identifier">
				<xs:annotation>
					<xs:documentation>Identifier of the supply</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="type">
				<xs:annotation>
					<xs:documentation>Type of the supply; TBD add free description of non-linear power supplies</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="INT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="resistance">
				<xs:annotation>
					<xs:documentation>Power supply internal resistance</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>Ohm</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="delay">
				<xs:annotation>
					<xs:documentation>Pure delay in the supply</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>../names</coordinate1>
						<Units>s</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="filter_numerator">
				<xs:annotation>
					<xs:documentation>Coefficients of the numerator, in increasing order : a0 + a1*s + ... + an*s^n; used for a linear supply description</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>1...n_numerator_coefficients</coordinate1>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="filter_denominator">
				<xs:annotation>
					<xs:documentation>Coefficients of the denominator, in increasing order : b0 + b1*s + ... + bm*s^m; used for a linear supply description</xs:documentation>
					<xs:appinfo>
						<coordinate1>1...n_denominator_coefficients</coordinate1>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="current_limit_max">
				<xs:annotation>
					<xs:documentation>Maximum current in the supply</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>A</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="current_limit_min">
				<xs:annotation>
					<xs:documentation>Minimum current in the supply</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>A</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="voltage_limit_max">
				<xs:annotation>
					<xs:documentation>Maximum voltage from the supply</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>V</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="voltage_limit_min">
				<xs:annotation>
					<xs:documentation>Minimum voltage from the supply</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>V</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="current_limiter_gain">
				<xs:annotation>
					<xs:documentation>Gain to prevent overcurrent in a linear model of the supply</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>V</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="energy_limit_max">
				<xs:annotation>
					<xs:documentation>Maximum energy to be dissipated in the supply during a pulse</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>J</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="nonlinear_model">
				<xs:annotation>
					<xs:documentation>Description of the nonlinear transfer function of the supply</xs:documentation>
					<xs:documentation/>
					<xs:documentation>
						<type>STATIC</type>
					</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="voltage">
				<xs:annotation>
					<xs:documentation>Voltage at the supply output</xs:documentation>
					<xs:appinfo>
						<Type>DYNAMIC</Type>
						<coordinate1>time</coordinate1>
						<Units>V</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element ref="time"/>
						<xs:group ref="FLT_1D"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="current">
				<xs:annotation>
					<xs:documentation>Current at the supply output, defined positive if it flows from point 1 to point 2 of the component in the pfcircuit description</xs:documentation>
					<xs:appinfo>
						<Type>DYNAMIC</Type>
						<coordinate1>time</coordinate1>
						<Units>A</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element ref="time"/>
						<xs:group ref="FLT_1D"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="pf_circuits">
		<xs:annotation>
			<xs:documentation>Circuits, connecting multiple PF coils to multiple supplies, defining the current and voltage relationships in the system</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="name">
				<xs:annotation>
					<xs:documentation>Name of the circuit</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="identifier">
				<xs:annotation>
					<xs:documentation>ID of the circuit</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="type">
				<xs:annotation>
					<xs:documentation>Type of the circuit</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="connections">
				<xs:annotation>
					<xs:documentation>Description of the supplies and coils connections (nodes) across the circuit. The matrix describing for each node (first dimension) which components are connected to it (1 if connected, 0 otherwise). There are 2 sides to each component, thus 2*ncomponents as the size of the second dimension, listing first all supplies, then all coils (in the same order as listed in SUPPLIES and COILS). An example can be found in the data structure documentation PFconnections.pdf (TBD)</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>1...n_nodes</coordinate1>
						<coordinate2>1...2*n_components</coordinate2>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_2D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="voltage">
				<xs:annotation>
					<xs:documentation>Voltage on the circuit</xs:documentation>
					<xs:appinfo>
						<Type>DYNAMIC</Type>
						<coordinate1>time</coordinate1>
						<Units>V</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element ref="time"/>
						<xs:group ref="FLT_1D"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="current">
				<xs:annotation>
					<xs:documentation>Current in the circuit</xs:documentation>
					<xs:appinfo>
						<Type>DYNAMIC</Type>
						<coordinate1>time</coordinate1>
						<Units>V</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element ref="time"/>
						<xs:group ref="FLT_1D"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="pf_coils_elements">
		<xs:annotation>
			<xs:documentation>Each PF coil is comprised of a number of cross-section elements described  individually</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="name">
				<xs:annotation>
					<xs:documentation>Name of this element of this coil</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="identifier">
				<xs:annotation>
					<xs:documentation>Identifier of this element of this coil</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="turns_with_sign">
				<xs:annotation>
					<xs:documentation>Number of effective turns in the element for calculating magnetic fields of the coil; includes the sign of the number of turns</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="INT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="area">
				<xs:annotation>
					<xs:documentation>Cross-sectional areas of the element</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>m^2</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="geometry" type="outline_2d_geometry_static">
				<xs:annotation>
					<xs:documentation>Cross-sectional shape of the element</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="pf_coils">
		<xs:annotation>
			<xs:documentation>Active PF coils</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="name">
				<xs:annotation>
					<xs:documentation>Name of the coil</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="identifier">
				<xs:annotation>
					<xs:documentation>Alphanumeric identifier of coils used for convenience</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="resistance">
				<xs:annotation>
					<xs:documentation>Coil resistance</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>Ohm</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="energy_limit_max">
				<xs:annotation>
					<xs:documentation>Maximum Energy to be dissipated in the coil</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<Units>J</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_0D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="elements" type="pf_coils_elements" maxOccurs="20">
				<xs:annotation>
					<xs:documentation>Each PF coil is comprised of a number of cross-section elements described  individually</xs:documentation>
					<xs:appinfo>
						<coordinate1>1...n_elements</coordinate1>
					</xs:appinfo>
				</xs:annotation>
			</xs:element>
			<xs:element name="current">
				<xs:annotation>
					<xs:documentation>Current in the coil</xs:documentation>
					<xs:appinfo>
						<Type>DYNAMIC</Type>
						<coordinate1>time</coordinate1>
						<Units>A</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element ref="time"/>
						<xs:group ref="FLT_1D"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="voltage">
				<xs:annotation>
					<xs:documentation>Voltage on the coil terminals</xs:documentation>
					<xs:appinfo>
						<Type>DYNAMIC</Type>
						<coordinate1>time</coordinate1>
						<Units>V</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element ref="time"/>
						<xs:group ref="FLT_1D"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="pf_vertical_forces">
		<xs:annotation>
			<xs:documentation>Vertical forces on the axisymmetric PF coil system</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="names">
				<xs:annotation>
					<xs:documentation>Names of the Force combinations</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>1...n_forces</coordinate1>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="STR_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="combinations">
				<xs:annotation>
					<xs:documentation>Coils involved in the Force combinations</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>../names</coordinate1>
						<coordinate2>../../coils</coordinate2>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_2D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="limits_max">
				<xs:annotation>
					<xs:documentation>Vertical Force combinations limits</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>../names</coordinate1>
						<Units>N</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="limits_min">
				<xs:annotation>
					<xs:documentation>Vertical Force combination limit</xs:documentation>
					<xs:appinfo>
						<Type>STATIC</Type>
						<coordinate1>../names</coordinate1>
						<Units>N</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_1D"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="forces">
				<xs:annotation>
					<xs:documentation>Force combinations. All forces are assumed to be on the same timebase</xs:documentation>
					<xs:appinfo>
						<Type>DYNAMIC</Type>
						<coordinate1>../names</coordinate1>
						<coordinate2>../time</coordinate2>
						<Units>N</Units>
					</xs:appinfo>
				</xs:annotation>
				<xs:complexType>
					<xs:group ref="FLT_2D"/>
				</xs:complexType>
			</xs:element>
			<xs:element ref="time"/>
		</xs:sequence>
	</xs:complexType>
	<xs:element name="pf">
		<xs:annotation>
			<xs:documentation>Description of the axisymmetric active poloidal field (PF) coils, passive conductors, currents flowing in those and mutual electromagnetics effects; includes the limits of these systems; includes the forces on them; does not include non-axisymmetric coil systems</xs:documentation>
			<xs:appinfo/>
		</xs:annotation>
		<xs:complexType>
			<xs:sequence>
				<xs:element ref="ids_properties"/>
				<xs:element name="coils" type="pf_coils" maxOccurs="20">
					<xs:annotation>
						<xs:documentation>Active PF coils</xs:documentation>
						<xs:appinfo>
							<coordinate1>1...n_pf_coils</coordinate1>
						</xs:appinfo>
					</xs:annotation>
				</xs:element>
				<xs:element name="vertical_forces" type="pf_vertical_forces">
					<xs:annotation>
						<xs:documentation>Vertical forces on the axisymmetric PF coil system</xs:documentation>
					</xs:annotation>
				</xs:element>
				<xs:element name="circuits" type="pf_circuits" maxOccurs="20">
					<xs:annotation>
						<xs:documentation>Circuits, connecting multiple PF coils to multiple supplies, defining the current and voltage relationships in the system</xs:documentation>
						<xs:appinfo>
							<coordinate1>1...n_circuits</coordinate1>
						</xs:appinfo>
					</xs:annotation>
				</xs:element>
				<xs:element name="supplies" type="pf_supplies" maxOccurs="20">
					<xs:annotation>
						<xs:documentation>PF power supplies</xs:documentation>
						<xs:appinfo>
							<coordinate1>1...n_pf_supplies</coordinate1>
						</xs:appinfo>
					</xs:annotation>
				</xs:element>
				<xs:element name="passive_loops" type="pf_passive_loops">
					<xs:annotation>
						<xs:documentation>Passive axisymmetric conductor description in the form of non-connected loops; any connected loops are expressed as active coil circuits with no power supply attached.</xs:documentation>
					</xs:annotation>
				</xs:element>
				<xs:element name="vacuum_model" type="pf_vacuum_model">
					<xs:annotation>
						<xs:documentation>Electromagnetic Vacuum Model of the PF System, including both active and passive coils</xs:documentation>
					</xs:annotation>
				</xs:element>
				<xs:element ref="code"/>
				<xs:element ref="time"/>
			</xs:sequence>
		</xs:complexType>
	</xs:element>
</xs:schema>
